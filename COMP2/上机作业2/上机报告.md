# 第二次上机报告

> 2233316027 王博想

## 1. 输出九九乘法表

### 问题重述

按如下形式打印九九乘法表

```
1x1=1 
1x2=2 2x2=4 
1x3=3 2x3=6 3x3=9 
1x4=4 2x4=8 3x4=12 4x4=16 
1x5=5 2x5=10 3x5=15 4x5=20 5x5=25 
1x6=6 2x6=12 3x6=18 4x6=24 5x6=30 6x6=36 
1x7=7 2x7=14 3x7=21 4x7=28 5x7=35 6x7=42 7x7=49 
1x8=8 2x8=16 3x8=24 4x8=32 5x8=40 6x8=48 7x8=56 8x8=64 
1x9=9 2x9=18 3x9=27 4x9=36 5x9=45 6x9=54 7x9=63 8x9=72 9x9=81 
```

### 实现思想

利用列表推导式， `for i in range(1,10)` 控制行数，从 1 到 9；`for j in range(1,i+1)` 控制每一行的列数，确保 `j<=i`，实现上三角形排列。

接着使用 `f-string` 格式化字符串，`f"\n{j}x{i}={i*j} "` 生成形如 `\n2x3=6 ` 的字符串。

对于换行 `\n` 要保证只在 `j=1` 且 `i!=1` 时生效，即每行首个表达式前换行。于是使用切片操作`[j>1:]`：`j>1` 为 `True` 时，转换为 `1`，跳过 `\n`，确保只有第一列换行；`[i<2:]`：`i<2` 仅在 `i=1` 为 `True`，即 `i=1` 时不去掉 `\n`，保持第一行正确。

最后利用 `''.join()` 将所有字符串连接并打印，实现了格式整齐的九九乘法表输出。

### 源代码

```python
print(''.join(f"\n{j}x{i}={i*j} "[j>1:][i<2:] for i in range(1,10) for j in range(1,i+1)))
```

### 结果及说明

```
1x1=1 
1x2=2 2x2=4 
1x3=3 2x3=6 3x3=9 
1x4=4 2x4=8 3x4=12 4x4=16 
1x5=5 2x5=10 3x5=15 4x5=20 5x5=25 
1x6=6 2x6=12 3x6=18 4x6=24 5x6=30 6x6=36 
1x7=7 2x7=14 3x7=21 4x7=28 5x7=35 6x7=42 7x7=49 
1x8=8 2x8=16 3x8=24 4x8=32 5x8=40 6x8=48 7x8=56 8x8=64 
1x9=9 2x9=18 3x9=27 4x9=36 5x9=45 6x9=54 7x9=63 8x9=72 9x9=81 
```

## 2. 求函数极限

### 问题重述

用程序计算方法求下列函数的极限

$$
\lim_{x \to \infty} \left(1 + \frac{1}{x}\right)^x\qquad  \lim_{x \to 0} \sin \frac{1}{x}
$$

### 实现思想

对于第一个极限

初始化 $n=1$，逐步增大 $n$，计算表达式 $\left( 1 + \dfrac{1}{n} \right)^n$。将每次结果存入列表 `last`，比较相邻两次结果的差值。当差值小于精度阈值 `eps=1e-15` 时，认为结果已收敛，输出最终值。

### 源代码

```python
import math
def g(res, x, z, j):
    return res if abs(z)<1e-6 else g(res+z, x, -z*x*x/j/(j+1), j+2)
def f(x): return g(x, x, -x**3/6, 4)
print("%.5f"%f(2*math.pi/5))
```

### 结果及说明

```
0.95106
```

结果表明：

$\sin \dfrac{2}{5}\pi$ 精确到五位小数的值为 $0.95106$

## 3. 纸张折叠问题

### 问题重述

假设有一张无限大的纸可以任意地折叠，其厚度为 $0.104$ 毫米，那么要折叠多少次可以超过珠穆朗玛峰的高度？如果能折叠 $100$ 次，那么将会有多厚？能否冲出银河系？

### 实现思想

设 $d$ 为纸张的厚度，则每一次折叠会使 $d \leftarrow 2d$，所以折叠 $n$ 次以后的厚度为 $2^{n}d$

设珠穆朗玛峰的高度 $h$，则折叠 $n$ 次超过珠穆朗玛峰高度即

$$
2^{n}d>h\implies n>\log_{2}\left(\dfrac{h}{d}\right) \xRightarrow{\;n\in \mathbb{N}\;} n \geq \left\lfloor \log_{2} \left( \dfrac{h}{d} \right)+1  \right\rfloor 
$$

所以最少需要 $\left\lfloor \log_{2} \left( \dfrac{h}{d} \right)+1  \right\rfloor$ 次折叠

### 源代码

```python
import math
h,d=8844.43,0.104*1e-3
print(math.floor(1+math.log2(h/d)))
print("%.5e"%(d*2**100))
```

### 结果及说明

```
27
1.31836e+26
```

结果表明：

1. 折叠 $27$ 的纸厚度超过珠穆朗玛峰高度
2. 折叠 $100$ 次的纸厚度约为 $1.31836 \times 10^{26} \;\mathrm{m}$
3. 而虽然银河系的直径没有确切值（不同的来源给出的数值不同），但是基本可以确定不超过 $5 \times 10 ^{6}\; \text{ly} \approx 4.730 \times 10 ^{22}\;\mathrm{m}$，所以折叠 $100$ 次的纸冲出了银河系